// Copyright (c) .NET Foundation. All rights reserved.
// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.

using System.IO;
using System.Threading.Tasks;

namespace UpdateVulnerabilityData.Storage
{
    public interface IVulnerabilityDetailsStorage
    {
        Task<bool> WriteSourceDataFileAsync(
            Stream inputStream,
            string destinationFileName,
            ContentType destinationContentType,
            string eTag);

        Task<bool> WriteCveMetaFilesReferenceAsync(CveMetaFilesReference reference, bool overwrite = false);

        /// <summary>
        /// Retrieves the <see cref="CveMetaFilesReference"/> used to determine back-up state.
        /// </summary>
        /// <returns></returns>
        Task<CveMetaFilesReference> ReadCveMetaFilesReferenceAsync();
    }
}